import requests
import sys

url = "https://api.dexscreener.com/latest/dex/pairs/solana"

response = requests.get(url, timeout=15)

print("STATUS:", response.status_code)
print("TEXT:", response.text[:300])

if response.status_code != 200:
    print("Request failed")
    sys.exit(1)

try:
    data = response.json()
except Exception as e:
    print("JSON parse failed:", e)
    sys.exit(1)

if "pairs" not in data:
    print("pairs key not found")
    sys.exit(1)

pairs = data["pairs"][:20]
print("SUCCESS:", len(pairs))














































































































































































